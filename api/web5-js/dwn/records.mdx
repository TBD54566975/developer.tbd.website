import Divider from '@site/src/components/Divider';
import ApiDetails from '@site/src/components/ApiDetails';

## Overview
The `records` class is responsible for providing convenience methods for CRUD operations interfacing with DWNs

## Data Types

### Record

Every modifying method of the `records` class returns an instance of a [Record](record) object, which is a representation of the record involved in the operation

<Divider type="slash"/>

<section class="api-docs">

## Methods

### query(request)

Method for querying the DWN of a provided target

#### Parameters

<ApiDetails
  details={[
    {
      data: {
        isObject: true,
        field: 'request',
        value: <ApiDetails
                details={[
                {
                    data: {
                        field: 'from',
                        value: 'The DID to query from',
                    },
                },
                {
                    data: {
                        field: 'author',
                        value: 'The DID of the author signing the query. This may be the same as the target parameter if the target and the signer of the query are the same entity, which is common for an app querying the DWN of its own user.',
                    },
                }, 
                {
                    data: {
                        field: 'message',
                        value: 'Object describing the properties of the DWN descriptor used to construct a valid DWN message',
                    },
                },                                             
            ]}
          />,
      },
    },
  ]}
/>


#### Return Value

The response object of the query

#### Code Example
```js
const response = await web5.dwn.records.query({
  from: 'did:example:alice',
  message: {
    filter: {
      schema: 'https://schema.org/Playlist',
      dataFormat: 'application/json'
    }
  }
});
```

<Divider type="slash"/>

### create(request)

Writes a record to the local DWN of a specified DID

#### Parameters

<ApiDetails
  details={[
    {
      data: {
        isObject: true,
        field: 'request',
        value: <ApiDetails
                details={[
                {
                    data: {
                        field: 'from',
                        value: 'The DID of the author signing the query. This may be the same as the target parameter if the target and the signer of the query are the same entity, which is common for an app querying the DWN of its own user.',
                    },
                },
                {
                    data: {
                        field: 'store',
                        value: 'A boolean specifying whether the data in the user\'s DWN should be recorded',
                    },
                }, 
                {
                    data: {
                        field: 'data',
                        value: 'The data object of the bytes, stream, blob, or file to be sent',
                    },
                },                                 
                {
                    data: {
                        field: 'message',
                        value: 'Object describing the properties of the DWN descriptor used to construct a valid DWN message',
                    },
                },                                             
            ]}
          />,
      },
    },
  ]}
/>


#### Return Value

The response object of the query

#### Code Example
```js
const { record } = await web5.dwn.records.create({
  data: 'Hello, world!',
  message: {
    recipient: 'did:example:alice'
    schema: 'message',
    dataFormat: 'text/plain',
    protocol: 'social-media',
  },
});
```

<Divider type="slash"/>

### write(request)

Method for writing a record to the DWN of a provided target

#### Parameters

<ApiDetails
  details={[
    {
      data: {
        isObject: true,
        field: 'request',
        value: <ApiDetails
                details={[
                {
                    data: {
                        field: 'from',
                        value: 'The DID of the author signing the query. This may be the same as the target parameter if the target and the signer of the query are the same entity, which is common for an app querying the DWN of its own user.',
                    },
                },
                {
                    data: {
                        field: 'data',
                        value: 'The data object of the bytes, stream, blob, or file to be sent',
                    },
                },                                 
                {
                    data: {
                        field: 'message',
                        value: 'Object describing the properties of the DWN descriptor used to construct a valid DWN message',
                    },
                },                                             
            ]}
          />,
      },
    },
  ]}
/>

#### Return Value

The response object of the query

#### Code Example
```js
const { record } = await web5.dwn.records.write({
  from: 'did:example:alice',
  data: 'Hello again!',
  message: {
    recordId: 'bfw35evr6e54c4cqa4c589h4cq3v7w4nc534c9w7h5',
    dataFormat: 'text/plain'
  }
});
```

<Divider type="slash"/>

### delete(target, request)

Method for reading a record to the DWN of a provided target

#### Parameters

<ApiDetails
  details={[
    {
      data: {
        isObject: true,
        field: 'request',
        value: <ApiDetails
                details={[
                {
                    data: {
                        field: 'from',
                        value: 'The DID of the author signing the query. This may be the same as the target parameter if the target and the signer of the query are the same entity, which is common for an app querying the DWN of its own user.',
                    },
                },                               
                {
                    data: {
                        isObject: true,
                        field: 'message',
                        value: <ApiDetails
                                details={[
                                {
                                    data: {
                                        field: 'recordId',
                                        value: 'The id of the record to delete',
                                    },
                                },                            
                            ]}
                            />,
                  },
                },                                             
            ]}
          />,
      },
    },
  ]}
/>

#### Return Value

The response object of the query

#### Code Example
```js
const response = await web5.dwn.records.delete({
  from: 'did:example:alice',
  message: {
    recordId: 'bfw35evr6e54c4cqa4c589h4cq3v7w4nc534c9w7h5'
  }
});
```

</section>