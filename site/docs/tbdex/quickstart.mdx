---
sidebar_position: 1
title: Wallet Quickstart
hide_title: true
hide_table_of_contents: false
---

import { QuickstartExecutionProvider } from '@site/src/components/QuickstartExecutionContext';
import Version from '@site/src/components/Version';
import PackageJson from '@site/src/components/PackageJson';
import CodeSnippet from '@site/src/components/CodeSnippet';
import WalletQuickstartCodeRunner from '@site/src/components/WalletQuickstartCodeRunner';

<QuickstartExecutionProvider>
# tbDEX Wallet in 5️⃣ minutes

## Overview

The role of a Wallet App in a tbDEX ecosystem is to find liquidity for its customers. Let’s build a tbDEX-enabled wallet in under 5 minutes. You will learn how to:

✅  Integrate the tbDEX SDK into a wallet app

✅  Connect your wallet app with a PFI (Participating Financial Institution)

✅  Send tbDEX messages to a PFI to facilitate an exchange



Let’s go!


## Wallet App Basics

In this exercise, your app is responsible for helping your customer, Alice, exchange `USD` for `KES`. First, we'll create a [DID (Decentralized Identifier)](/docs/web5/learn/decentralized-identifiers) for Alice.

### Create Customer's DID

In order for you to communicate with PFIs on Alice's behalf, she'll need a DID (as will all of your customers). Here's how to create a DID:

<CodeSnippet snippetName="walletQuickstartDidCreate" />

<WalletQuickstartCodeRunner executeCodeName="executeDidCreate" stepIndex={0} customPlaceholder={"See your DID"}/>


## Connect to a PFI

To connect to a PFI, all you need is their DID. Let's get connected to a mock PFI whose DID is `did:dht:ccqamm6qgbe763ya8f3bo5mkrtxx1pz7i789zeqq4bmoae4qnixy`.


## Get Offerings

[Offerings](docs/tbdex/message-types#offerings) describe the currency pair and transaction parameters. With the PFI's DID, your app can fetch all of their offerings:

<CodeSnippet snippetName="walletQuickstartGetOfferings"/>

<WalletQuickstartCodeRunner executeCodeName="executeGetOfferings" stepIndex={1} autoOpenDetails={false} customPlaceholder={"See the PFI's Offerings"} viewJsonObj={true} collapseLevel={1}/>

Once you have all of the PFI's offerings, you can filter it based on a variety of factors, including the currency pair you're looking for. In this case, you're looking for an offering that exchanges `USD` for `KES`:

<CodeSnippet snippetName="walletQuickstartSelectOffering" />

#### Obtain Verifiable Credentials

The Offering you received will likely have a `requiredClaims` section that specifies which, if any, [Verifiable Credentials](/docs/web5/learn/verifiable-credentials) (VCs) you’ll need to present in order to be eligible for the Offering. Begin by applying for your VC:

<WalletQuickstartCodeRunner executeCodeName="executeApplyForCredential" stepIndex={2} customPlaceholder={"Apply for a SanctionCredential"}/>

VCs are stored as JWTs, and once you've saved the token above you can access and filter through them like so:

<CodeSnippet snippetName="walletQuickstartSelectCredentials" />

## Request a Quote

Now that you've found an offering that matches Alice's request, your app can request a quote from the PFI to obtain a formal offer based on Alice's preferred payment methods.

<CodeSnippet snippetName="walletQuickstartCreateRfq" />

<WalletQuickstartCodeRunner executeCodeName="executeCreateRfq" stepIndex={3} customPlaceholder={"See your RFQ"} viewJsonObj={true} collapseLevel={1}/>

After creating an RFQ message, you can verify that it is properly constructed and its data satisfies the Offering's requirements.

If no exceptions are thrown, you'll sign the RFQ with Alice's DID to ensure its authenticity.

Then finally, you'll send the RFQ to the PFI to initiate the transaction.

<CodeSnippet snippetName="walletQuickstartSendRfq" />

## Process Quote

In response to your RFQ, the PFI will write a Quote message to the exchange if they are able to fulfill Alice's request, or a Close message if not. Here's how to obtain that message:

<CodeSnippet snippetName="walletQuickstartProcessQuote" />

<WalletQuickstartCodeRunner executeCodeName="executeProcessQuote" stepIndex={4} customPlaceholder={"View Quote"} viewJsonObj={true} collapseLevel={1}/> 

## Place Order

The Quote message will contain the exact exchange rate including any fees. Your app can present this to Alice to determine if she wants to proceed with the transaction. If she does, you'll create an Order message, sign it with Alice's DID, and send it to the PFI:

<CodeSnippet snippetName="walletQuickstartCreateOrder" />

<WalletQuickstartCodeRunner executeCodeName="executeCreateOrder" stepIndex={5} customPlaceholder={"Create your order"} viewJsonObj={true} collapseLevel={1}/> 

## End Transaction

To end the transaction, the PFI will write a Close message indicating whether the transaction successfully completed or not. They'll also include a reason for closing the transaction which will contain more information that you may find helpful in event of a failure.

<CodeSnippet snippetName="walletQuickstartProcessClose" />

<WalletQuickstartCodeRunner executeCodeName="executeProcessClose" stepIndex={6} customPlaceholder={"View your close reason"}/> 

## Next Steps with tbDEX

Congratulations on creating your first Wallet! In just a few minutes you were able to contact a PFI for its offerings, request a quote, place an order, and finish your transaction.

If you’d like to get started building an even more robust wallet, you can see our full [Wallet guide](docs/tbdex/wallet/overview). Additionally, you can learn more about [building your own PFI](docs/tbdex/pfi/overview), as well as [becoming a Credential Issuer](docs/tbdex/issuer/overview) on the tbDEX network too!

</QuickstartExecutionProvider>
